npm test

# Run lint-staged
npx lint-staged

# Ensure InstallCTA is present and layout wired (auto-fix if needed)
echo "[pre-commit] Verifying InstallCTA wiring…"
npm run -s cta:check
if ! git diff --quiet -- src/components/InstallCTA.tsx src/app/layout.tsx 2>/dev/null; then
  echo "[pre-commit] Applying InstallCTA wiring…"
  npm run -s cta:apply
  git add src/components/InstallCTA.tsx src/app/layout.tsx
fi
